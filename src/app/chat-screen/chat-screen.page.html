<ion-header class="gradientHeader">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>
            <ion-item class="ion-no-padding bg-none" lines="none">
                <ion-label (click)="toOtherProfile()">
                    <h5 class="white">{{service.usersData[otherUid].fullName}}</h5>
                    <p class="white"><small>last seen today at 2:45</small></p>
                </ion-label>
            </ion-item>
        </ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="addToFavorite()" *ngIf="!service.usersData[uid].favorites?.includes(this.otherUid)">
                <img src="./assets/imgs/star 1.png">
            </ion-button>
            <ion-button (click)="removeFromFavorite()" *ngIf="service.usersData[uid].favorites?.includes(this.otherUid)">
                <ion-icon name="star" color="light"></ion-icon>
            </ion-button>
            <ion-button>
                <img src="./assets/imgs/flag 1.png">
            </ion-button>
            <ion-button>
                <img src="./assets/imgs/slash 1.png">
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content color="lighter" class="ion-padding" fullScreen="true">
    <div *ngFor="let chat of chats; let i = index;">
        <div [class.outgoingMsg]="chat.senderId === uid" [class.incomingMsg]="chat.senderId !== uid">
            <p class="chatMsg">
                <span *ngIf="chat.message">{{chat.message}}</span>
                <img *ngIf="chat.image" (click)="viewImage(chat.image)" [src]="chat.image" [class.ion-float-right]="chat.senderId==uid">
                <br /> <span class="msgTime" [class.ion-float-right]="chat.senderId==uid">{{chat.timestamp | date:'medium'}}</span>
            </p>


        </div>
    </div>

    <!-- <div class="incomingMsg">
        <p class="chatMsg">Ok look i like this work
            <br /> <span class="ion-float-right msgTime">02:34</span>
        </p>
    </div>

    <div class="outgoingMsg">
        <p class="chatMsg">Thanks men
            <br /> <span class="msgTime"><ion-icon name="checkmark-done-outline"></ion-icon> 02:34</span>
        </p>
    </div>

    <div class="outgoingMsg">
        <p class="chatMsg">information; workshops are for solving a problem or reaching an actionable goal.
            <br /> <span class="msgTime"><ion-icon name="checkmark-done-outline"></ion-icon> 02:34</span>
        </p>
    </div>

    <div class="outgoingMsg">
        <p class="chatMsg">Now do this
            <br /> <span class="msgTime"><ion-icon name="checkmark-done-outline"></ion-icon> 02:34</span>
        </p>
    </div>

    <div class="incomingMsg">
        <p class="chatMsg">I'm doing a complicated form for this my self this will be in admin panel, at customer side
            <br /> <span class="ion-float-right msgTime">02:34</span>
        </p>
    </div>

    <div class="incomingMsg">
        <p class="chatMsg">Ok look i like this work
            <br /> <span class="ion-float-right msgTime">02:34</span>
        </p>
    </div>

    <div class="outgoingMsg">
        <p class="chatMsg">Thanks men
            <br /> <span class="msgTime"><ion-icon name="checkmark-done-outline"></ion-icon> 02:34</span>
        </p>
    </div>

    <div class="outgoingMsg">
        <p class="chatMsg">information; workshops are for solving a problem or reaching an actionable goal.
            <br /> <span class="msgTime"><ion-icon name="checkmark-done-outline"></ion-icon> 02:34</span>
        </p>
    </div>

    <div class="outgoingMsg">
        <p class="chatMsg">Now do this
            <br /> <span class="msgTime"><ion-icon name="checkmark-done-outline"></ion-icon> 02:34</span>
        </p>
    </div> -->

</ion-content>

<ion-footer>
    <div class="bg-white" style="padding: 10px;">
        <ion-item lines="none">
            <img class="slotedStart" slot="start" src="./assets/imgs/Camera.png" (click)="openCamera(1)">
            <ion-input typ="text" placeholder="Message" [(ngModel)]="newMessage.message" (keyup.enter)="sendMessage()"></ion-input>
            <img class="slotedEnd" src="/assets/imgs/Microphone.png" slot="end">
            <img class="slotedEnd" src="/assets/imgs/Image (12).png" slot="end" (click)="openCamera(2)">
            <img class="slotedEnd" src="/assets/imgs/More.png" slot="end" (click)="openCamera(2)">
        </ion-item>
    </div>
</ion-footer>